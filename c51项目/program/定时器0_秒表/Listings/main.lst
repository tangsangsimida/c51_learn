C51 COMPILER V9.54   MAIN                                                                  11/16/2022 23:39:52 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\hex\main.obj
COMPILER INVOKED BY: D:\software\keil5\C51\BIN\C51.EXE Objects\code\main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND P
                    -RINT(.\Listings\main.lst) OBJECT(.\Objects\hex\main.obj)

line level    source

   1          #include <intrins.h>
   2          #include "c51tangsang.h"
   3          
   4          //定时器实现秒表功能
   5          //1.利用lcd1602动态显示
   6          //2.用独立按键1实现启动并显示秒表界面
   7          //3.用独立按键2实现开始计时功能，再次按下独立按键2可暂停
   8          //4.用独立按键3实现结束计时，并将计时器置零，
   9          //5.用独立按键4实现推出计时器功能
  10          //6.推出计时器后显示hello字样，在启动时显示hello字样
  11          
  12          int main()
  13          {
  14   1              //初始化外部中断3，2
  15   1              static PX3=0XAA;
  16   1              EA=1;
  17   1      
  18   1          time_0_ms_init();
  19   1          //启动定时器0;
  20   1              P2=0XAA;
  21   1              while(1)
  22   1              {
  23   2                      
  24   2              }
  25   1      }
*** WARNING C280 IN LINE 15 OF Objects\code\main.c: 'PX3': unreferenced local variable
  26          void time_inter() interrupt 1
  27          {
  28   1          uchar s=0,m=0,h=0;
  29   1          uint ms=0;
  30   1          TH0=64535/256;//高八位数据     晶振12mhz，一个周期为1us，最大65535us，
  31   1          TL0=64535%256;//低八位数据->64535 = 65535-1000; -> 1000us=1ms; 定时器单位为1ms
  32   1          ms++;
  33   1          if(s==1000)
  34   1          {
  35   2              ms=0;
  36   2              s++;
  37   2              if(s==60)
  38   2              {
  39   3                 s=0;
  40   3                 m++;
  41   3                 if(m=60)
*** WARNING C276 IN LINE 41 OF Objects\code\main.c: constant in condition expression
  42   3                 {
  43   4                     m=0;
  44   4                     h++;
  45   4                 }
  46   3              }
  47   2          }
  48   1      }
  49          //测试外部中断(两个独立按键到底是哪两个)
  50          void text() interrupt 3
  51          {
  52   1          P2=0;
C51 COMPILER V9.54   MAIN                                                                  11/16/2022 23:39:52 PAGE 2   

  53   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     81    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  2 WARNING(S),  0 ERROR(S)
